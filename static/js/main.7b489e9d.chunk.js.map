{"version":3,"sources":["components/MapVisualization.js","components/TimelineChart.js","components/StateRankingChart.js","utils/dataProcessing.js","App.js","reportWebVitals.js","index.js"],"names":["MapVisualization","_ref","ufoData","militaryBaseData","usMapData","svgRef","useRef","tooltipRef","dimensions","setDimensions","useState","width","height","useEffect","handleResize","containerWidth","current","parentElement","clientWidth","window","addEventListener","removeEventListener","svg","d3","tooltip","selectAll","remove","attr","projection","fitSize","topojson","objects","states","path","stateNameToAbbr","Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming","District of Columbia","sightingsByState","v","length","d","state","toUpperCase","console","log","Array","from","keys","slice","map","colorScale","domain","values","append","data","features","join","stateName","properties","name","stateAbbr","count","has","get","toLowerCase","on","event","this","style","html","toLocaleString","pageX","pageY","coords","longitude","latitude","date","datetime","city","shape","duration","type","branch","legendX","legendY","legendScale","range","legendAxis","ticks","tickFormat","call","text","mainLegend","React","createElement","className","ref","TimelineChart","yearRange","margin","innerWidth","innerHeight","yearCounts","year","yearData","_ref2","sort","a","b","xScale","yScale","g","xAxis","yAxis","line","x","y","curve","datum","stateNameMap","AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC","PR","GU","VI","AS","MP","BC","ON","QC","AB","Wa","Ca","Tx","Fl","Ny","","StateRankingChart","stateCounts","stateData","stateCode","warn","padding","bandwidth","currentTarget","processUFOData","csvText","Papa","parse","header","skipEmptyLines","dynamicTyping","filter","sighting","Date","getFullYear","parseFloat","processMilitaryBaseData","base","App","setUfoData","setMilitaryBaseData","setUsMapData","loading","setLoading","error","setError","setYearRange","selectedStates","setSelectedStates","showMilitaryBases","setShowMilitaryBases","async","ufoResponse","fetch","ufoText","processedUFOData","basesResponse","basesText","processedBaseData","mapResponse","mapData","json","err","message","fetchData","filteredUFOData","yearMatch","stateMatch","includes","reportWebVitals","onPerfEntry","Function","__webpack_require__","e","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.7b489e9d.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport * as d3 from 'd3';\r\nimport * as topojson from 'topojson-client';\r\nimport '../styles/components/MapVisualization.css';\r\n\r\nconst MapVisualization = ({ ufoData, militaryBaseData, usMapData }) => {\r\n  const svgRef = useRef();\r\n  const tooltipRef = useRef();\r\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\r\n  \r\n  // Handle window resize\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      const containerWidth = svgRef.current.parentElement.clientWidth;\r\n      setDimensions({\r\n        width: containerWidth,\r\n        height: containerWidth * 0.6, // Maintain aspect ratio\r\n      });\r\n    };\r\n    \r\n    handleResize();\r\n    window.addEventListener('resize', handleResize);\r\n    \r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n  \r\n  // Draw map when data or dimensions change\r\n  useEffect(() => {\r\n    if (!usMapData || !dimensions.width || !dimensions.height) return;\r\n    \r\n    const svg = d3.select(svgRef.current);\r\n    const tooltip = d3.select(tooltipRef.current);\r\n    \r\n    // Clear previous rendering\r\n    svg.selectAll('*').remove();\r\n    \r\n    svg\r\n      .attr('width', dimensions.width)\r\n      .attr('height', dimensions.height)\r\n      .attr('viewBox', [0, 0, dimensions.width, dimensions.height])\r\n      .attr('style', 'max-width: 100%; height: auto;');\r\n    \r\n    // Create projection\r\n    const projection = d3.geoAlbersUsa()\r\n      .fitSize([dimensions.width, dimensions.height], topojson.feature(usMapData, usMapData.objects.states));\r\n    \r\n    // Create path generator\r\n    const path = d3.geoPath().projection(projection);\r\n    \r\n    // Map of state names to abbreviations\r\n    const stateNameToAbbr = {\r\n      'Alabama': 'AL', 'Alaska': 'AK', 'Arizona': 'AZ', 'Arkansas': 'AR', 'California': 'CA',\r\n      'Colorado': 'CO', 'Connecticut': 'CT', 'Delaware': 'DE', 'Florida': 'FL', 'Georgia': 'GA',\r\n      'Hawaii': 'HI', 'Idaho': 'ID', 'Illinois': 'IL', 'Indiana': 'IN', 'Iowa': 'IA',\r\n      'Kansas': 'KS', 'Kentucky': 'KY', 'Louisiana': 'LA', 'Maine': 'ME', 'Maryland': 'MD',\r\n      'Massachusetts': 'MA', 'Michigan': 'MI', 'Minnesota': 'MN', 'Mississippi': 'MS', 'Missouri': 'MO',\r\n      'Montana': 'MT', 'Nebraska': 'NE', 'Nevada': 'NV', 'New Hampshire': 'NH', 'New Jersey': 'NJ',\r\n      'New Mexico': 'NM', 'New York': 'NY', 'North Carolina': 'NC', 'North Dakota': 'ND', 'Ohio': 'OH',\r\n      'Oklahoma': 'OK', 'Oregon': 'OR', 'Pennsylvania': 'PA', 'Rhode Island': 'RI', 'South Carolina': 'SC',\r\n      'South Dakota': 'SD', 'Tennessee': 'TN', 'Texas': 'TX', 'Utah': 'UT', 'Vermont': 'VT',\r\n      'Virginia': 'VA', 'Washington': 'WA', 'West Virginia': 'WV', 'Wisconsin': 'WI', 'Wyoming': 'WY',\r\n      'District of Columbia': 'DC'\r\n    };\r\n    \r\n    // Group data by state to count sightings per state\r\n    const sightingsByState = d3.rollup(\r\n      ufoData,\r\n      v => v.length,\r\n      d => d.state ? d.state.toUpperCase() : \"Unknown\"\r\n    );\r\n    \r\n    // Log state codes for debugging\r\n    console.log(\"State codes in UFO data:\", Array.from(sightingsByState.keys()));\r\n    console.log(\"First few UFO state values:\", ufoData.slice(0, 5).map(d => d.state));\r\n    \r\n    // Create color scale for states\r\n    const colorScale = d3.scaleSequential(d3.interpolateBlues)\r\n      .domain([0, d3.max(Array.from(sightingsByState.values())) || 1]);\r\n    \r\n    // Draw states with color coding\r\n    const states = svg.append('g')\r\n      .selectAll('path')\r\n      .data(topojson.feature(usMapData, usMapData.objects.states).features)\r\n      .join('path')\r\n      .attr('fill', d => {\r\n        // Try different state code formats to match with UFO data\r\n        const stateName = d.properties.name;\r\n        const stateAbbr = stateNameToAbbr[stateName];\r\n        \r\n        // Try to find sightings count using state abbreviation\r\n        let count = 0;\r\n        if (stateAbbr && sightingsByState.has(stateAbbr)) {\r\n          count = sightingsByState.get(stateAbbr);\r\n        } else if (stateAbbr && sightingsByState.has(stateAbbr.toLowerCase())) {\r\n          count = sightingsByState.get(stateAbbr.toLowerCase());\r\n        }\r\n        \r\n        // Return color based on count\r\n        return colorScale(count);\r\n      })\r\n      .attr('stroke', '#999')\r\n      .attr('stroke-width', 0.5)\r\n      .attr('d', path)\r\n      .attr('class', 'state')\r\n      .on('mouseover', function(event, d) {\r\n        const stateName = d.properties.name;\r\n        const stateAbbr = stateNameToAbbr[stateName];\r\n        \r\n        // Try to find the correct count by trying different state code formats\r\n        let count = 0;\r\n        if (stateAbbr && sightingsByState.has(stateAbbr)) {\r\n          count = sightingsByState.get(stateAbbr);\r\n        } else if (stateAbbr && sightingsByState.has(stateAbbr.toLowerCase())) {\r\n          count = sightingsByState.get(stateAbbr.toLowerCase());\r\n        } else if (stateName && sightingsByState.has(stateName)) {\r\n          count = sightingsByState.get(stateName);\r\n        }\r\n        \r\n        d3.select(this)\r\n          .attr('stroke', '#333')\r\n          .attr('stroke-width', 1.5);\r\n          \r\n        tooltip\r\n          .style('opacity', 1)\r\n          .html(`<strong>${stateName}</strong><br>${count.toLocaleString()} UFO sightings`)\r\n          .style('left', (event.pageX + 10) + 'px')\r\n          .style('top', (event.pageY - 28) + 'px');\r\n      })\r\n      .on('mousemove', function(event) {\r\n        tooltip\r\n          .style('left', (event.pageX + 10) + 'px')\r\n          .style('top', (event.pageY - 28) + 'px');\r\n      })\r\n      .on('mouseout', function() {\r\n        d3.select(this)\r\n          .attr('stroke', '#999')\r\n          .attr('stroke-width', 0.5);\r\n          \r\n        tooltip.style('opacity', 0);\r\n      });\r\n    \r\n    // Add UFO sightings\r\n    svg.append('g')\r\n      .selectAll('circle')\r\n      .data(ufoData)\r\n      .join('circle')\r\n      .attr('cx', d => {\r\n        const coords = projection([d.longitude, d.latitude]);\r\n        if (!coords) return null; // Skip this point if projection returns null\r\n        return coords[0];\r\n      })\r\n      .attr('cy', d => {\r\n        const coords = projection([d.longitude, d.latitude]);\r\n        if (!coords) return null; // Skip this point if projection returns null\r\n        return coords[1];\r\n      })\r\n      .attr('r', 3)\r\n      .attr('fill', 'rgba(255, 215, 0, 0.6)')  // Gold color with transparency\r\n      .attr('stroke', 'rgba(255, 215, 0, 0.9)')\r\n      .attr('stroke-width', 1)\r\n      .attr('class', 'ufo-sighting')\r\n      .on('mouseover', function(event, d) {\r\n        d3.select(this)\r\n          .attr('r', 6)\r\n          .attr('fill', 'rgba(255, 215, 0, 0.9)');\r\n        \r\n        tooltip\r\n          .style('opacity', 1)\r\n          .html(`\r\n            <strong>UFO Sighting</strong><br>\r\n            Date: ${d.date || d.datetime || 'Unknown'}<br>\r\n            Location: ${d.city || 'Unknown'}, ${d.state || 'Unknown'}<br>\r\n            Shape: ${d.shape || 'Unknown'}<br>\r\n            Duration: ${d.duration || 'N/A'}\r\n          `)\r\n          .style('left', (event.pageX + 10) + 'px')\r\n          .style('top', (event.pageY - 28) + 'px');\r\n      })\r\n      .on('mouseout', function() {\r\n        d3.select(this)\r\n          .attr('r', 3)\r\n          .attr('fill', 'rgba(255, 215, 0, 0.6)');\r\n          \r\n        tooltip.style('opacity', 0);\r\n      });\r\n    \r\n    // Add military bases\r\n    if (militaryBaseData.length > 0) {\r\n      svg.append('g')\r\n        .selectAll('path')\r\n        .data(militaryBaseData)\r\n        .join('path')\r\n        .attr('transform', d => {\r\n          const coords = projection([d.longitude, d.latitude]);\r\n          if (!coords) return null; // Skip this point if projection returns null\r\n          return `translate(${coords[0]}, ${coords[1]})`;\r\n        })\r\n        .attr('d', 'M-5,-5 L0,-10 L5,-5 L5,5 L-5,5 Z') // Pentagon shape for military bases\r\n        .attr('fill', 'rgba(220, 20, 60, 0.7)') // Crimson color with transparency\r\n        .attr('stroke', 'rgba(220, 20, 60, 0.9)')\r\n        .attr('stroke-width', 1)\r\n        .attr('class', 'military-base')\r\n        .on('mouseover', function(event, d) {\r\n          d3.select(this)\r\n            .attr('fill', 'rgba(220, 20, 60, 0.9)');\r\n            \r\n          tooltip\r\n            .style('opacity', 1)\r\n            .html(`\r\n              <strong>Military Base</strong><br>\r\n              Name: ${d.name || 'Unknown'}<br>\r\n              Type: ${d.type || 'N/A'}<br>\r\n              Branch: ${d.branch || 'N/A'}\r\n            `)\r\n            .style('left', (event.pageX + 10) + 'px')\r\n            .style('top', (event.pageY - 28) + 'px');\r\n        })\r\n        .on('mouseout', function() {\r\n          d3.select(this)\r\n            .attr('fill', 'rgba(220, 20, 60, 0.7)');\r\n            \r\n          tooltip.style('opacity', 0);\r\n        });\r\n    }\r\n    \r\n    // Add color legend for states\r\n    const legendWidth = 200;\r\n    const legendHeight = 15;\r\n    const legendX = dimensions.width - legendWidth - 20;\r\n    const legendY = dimensions.height - 100;\r\n\r\n    const legendScale = d3.scaleLinear()\r\n      .domain([0, d3.max(Array.from(sightingsByState.values()))])\r\n      .range([0, legendWidth]);\r\n      \r\n    const legendAxis = d3.axisBottom(legendScale)\r\n      .ticks(5)\r\n      .tickFormat(d3.format(\",.0f\"));\r\n\r\n    // Create gradient for legend\r\n    const defs = svg.append('defs');\r\n    const gradient = defs.append('linearGradient')\r\n      .attr('id', 'sightings-gradient')\r\n      .attr('x1', '0%')\r\n      .attr('y1', '0%')\r\n      .attr('x2', '100%')\r\n      .attr('y2', '0%');\r\n\r\n    gradient.selectAll('stop')\r\n      .data([0, 0.2, 0.4, 0.6, 0.8, 1])\r\n      .join('stop')\r\n      .attr('offset', d => d * 100 + '%')\r\n      .attr('stop-color', d => colorScale(d * d3.max(Array.from(sightingsByState.values()))));\r\n\r\n    // Add legend rectangle with gradient\r\n    svg.append('rect')\r\n      .attr('x', legendX)\r\n      .attr('y', legendY)\r\n      .attr('width', legendWidth)\r\n      .attr('height', legendHeight)\r\n      .style('fill', 'url(#sightings-gradient)');\r\n\r\n    // Add legend axis\r\n    svg.append('g')\r\n      .attr('transform', `translate(${legendX}, ${legendY + legendHeight})`)\r\n      .call(legendAxis)\r\n      .attr('font-size', '10px');\r\n\r\n    // Add legend title\r\n    svg.append('text')\r\n      .attr('x', legendX)\r\n      .attr('y', legendY - 5)\r\n      .attr('font-size', '12px')\r\n      .text('UFO Sightings by State');\r\n    \r\n    // Add main legend with UFO and military base symbols\r\n    const mainLegend = svg.append('g')\r\n      .attr('transform', `translate(20, ${dimensions.height - 80})`);\r\n      \r\n    // UFO sightings legend\r\n    mainLegend.append('circle')\r\n      .attr('cx', 10)\r\n      .attr('cy', 10)\r\n      .attr('r', 5)\r\n      .attr('fill', 'rgba(255, 215, 0, 0.6)')  \r\n      .attr('stroke', 'rgba(255, 215, 0, 0.9)')\r\n      .attr('stroke-width', 1);\r\n      \r\n    mainLegend.append('text')\r\n      .attr('x', 25)\r\n      .attr('y', 15)\r\n      .text('UFO Sighting')\r\n      .attr('font-size', '12px');\r\n      \r\n    // Military base legend  \r\n    mainLegend.append('path')\r\n      .attr('transform', 'translate(10, 40)')\r\n      .attr('d', 'M-4,-4 L0,-8 L4,-4 L4,4 L-4,4 Z')\r\n      .attr('fill', 'rgba(220, 20, 60, 0.7)')\r\n      .attr('stroke', 'rgba(220, 20, 60, 0.9)')\r\n      .attr('stroke-width', 1);\r\n      \r\n    mainLegend.append('text')\r\n      .attr('x', 25)\r\n      .attr('y', 45)\r\n      .text('Military Base')\r\n      .attr('font-size', '12px');\r\n      \r\n  }, [usMapData, ufoData, militaryBaseData, dimensions]);\r\n  \r\n  return (\r\n    <div className=\"map-container\">\r\n      <svg ref={svgRef}></svg>\r\n      <div className=\"tooltip\" ref={tooltipRef}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapVisualization;","import React, { useRef, useEffect, useState } from 'react';\r\nimport * as d3 from 'd3';\r\nimport '../styles/components/TimelineChart.css';\r\n\r\nconst TimelineChart = ({ ufoData, yearRange }) => {\r\n  const svgRef = useRef();\r\n  const tooltipRef = useRef();\r\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\r\n  \r\n  // Handle window resize\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      const containerWidth = svgRef.current.parentElement.clientWidth;\r\n      setDimensions({\r\n        width: containerWidth,\r\n        height: 300, // Fixed height\r\n      });\r\n    };\r\n    \r\n    handleResize();\r\n    window.addEventListener('resize', handleResize);\r\n    \r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n  \r\n  // Draw timeline chart\r\n  useEffect(() => {\r\n    if (!ufoData.length || !dimensions.width || !dimensions.height) return;\r\n    \r\n    const svg = d3.select(svgRef.current);\r\n    const tooltip = d3.select(tooltipRef.current);\r\n    \r\n    // Clear previous rendering\r\n    svg.selectAll('*').remove();\r\n    \r\n    svg\r\n      .attr('width', dimensions.width)\r\n      .attr('height', dimensions.height)\r\n      .attr('viewBox', [0, 0, dimensions.width, dimensions.height])\r\n      .attr('style', 'max-width: 100%; height: auto;');\r\n    \r\n    // Add title\r\n    svg.append('text')\r\n      .attr('x', dimensions.width / 2)\r\n      .attr('y', 20)\r\n      .attr('text-anchor', 'middle')\r\n      .style('font-size', '16px')\r\n      .style('font-weight', 'bold')\r\n      .text('UFO Sightings Over Time');\r\n    \r\n    // Set margins\r\n    const margin = { top: 40, right: 30, bottom: 60, left: 60 };\r\n    const innerWidth = dimensions.width - margin.left - margin.right;\r\n    const innerHeight = dimensions.height - margin.top - margin.bottom;\r\n    \r\n    // Aggregate data by year\r\n    const yearCounts = d3.rollup(\r\n      ufoData,\r\n      v => v.length,\r\n      d => d.year\r\n    );\r\n    \r\n    // Convert to array for line chart\r\n    const yearData = Array.from(yearCounts, ([year, count]) => ({ year, count }))\r\n      .sort((a, b) => a.year - b.year);\r\n    \r\n    // Create scales\r\n    const xScale = d3.scaleLinear()\r\n      .domain([d3.min(yearData, d => d.year), d3.max(yearData, d => d.year)])\r\n      .range([0, innerWidth]);\r\n    \r\n    const yScale = d3.scaleLinear()\r\n      .domain([0, d3.max(yearData, d => d.count) * 1.1]) // Add 10% padding\r\n      .range([innerHeight, 0]);\r\n    \r\n    // Create main group\r\n    const g = svg.append('g')\r\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\r\n    \r\n    // Add axes\r\n    const xAxis = d3.axisBottom(xScale)\r\n      .ticks(10)\r\n      .tickFormat(d => d);\r\n    \r\n    g.append('g')\r\n      .attr('transform', `translate(0, ${innerHeight})`)\r\n      .call(xAxis);\r\n    \r\n    const yAxis = d3.axisLeft(yScale)\r\n      .ticks(10);\r\n    \r\n    g.append('g')\r\n      .call(yAxis);\r\n    \r\n    // Add axis labels\r\n    g.append('text')\r\n      .attr('transform', `translate(${innerWidth / 2}, ${innerHeight + 40})`)\r\n      .style('text-anchor', 'middle')\r\n      .text('Year');\r\n    \r\n    g.append('text')\r\n      .attr('transform', 'rotate(-90)')\r\n      .attr('y', -40)\r\n      .attr('x', -innerHeight / 2)\r\n      .style('text-anchor', 'middle')\r\n      .text('Number of Sightings');\r\n    \r\n    // Create line generator\r\n    const line = d3.line()\r\n      .x(d => xScale(d.year))\r\n      .y(d => yScale(d.count))\r\n      .curve(d3.curveMonotoneX);\r\n    \r\n    // Add the line\r\n    g.append('path')\r\n      .datum(yearData)\r\n      .attr('fill', 'none')\r\n      .attr('stroke', 'steelblue')\r\n      .attr('stroke-width', 2)\r\n      .attr('d', line);\r\n    \r\n    // Add dots for each data point\r\n    g.selectAll('.dot')\r\n      .data(yearData)\r\n      .join('circle')\r\n      .attr('class', 'dot')\r\n      .attr('cx', d => xScale(d.year))\r\n      .attr('cy', d => yScale(d.count))\r\n      .attr('r', 4)\r\n      .attr('fill', 'steelblue')\r\n      .on('mouseover', (event, d) => {\r\n        tooltip\r\n          .style('opacity', 1)\r\n          .html(`<strong>${d.year}</strong>: ${d.count} sightings`)\r\n          .style('left', (event.pageX + 10) + 'px')\r\n          .style('top', (event.pageY - 28) + 'px');\r\n      })\r\n      .on('mouseout', () => {\r\n        tooltip.style('opacity', 0);\r\n      });\r\n    \r\n  }, [ufoData, dimensions]);\r\n  \r\n  return (\r\n    <div className=\"timeline-container\">\r\n      <svg ref={svgRef}></svg>\r\n      <div className=\"tooltip\" ref={tooltipRef}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimelineChart;","import React, { useRef, useEffect, useState } from 'react';\r\nimport * as d3 from 'd3';\r\nimport '../styles/components/StateRankingChart.css';\r\n\r\n// Add this state abbreviation to full name mapping\r\nconst stateNameMap = {\r\n  'AL': 'Alabama',\r\n  'AK': 'Alaska',\r\n  'AZ': 'Arizona',\r\n  'AR': 'Arkansas',\r\n  'CA': 'California',\r\n  'CO': 'Colorado',\r\n  'CT': 'Connecticut',\r\n  'DE': 'Delaware',\r\n  'FL': 'Florida',\r\n  'GA': 'Georgia',\r\n  'HI': 'Hawaii',\r\n  'ID': 'Idaho',\r\n  'IL': 'Illinois',\r\n  'IN': 'Indiana',\r\n  'IA': 'Iowa',\r\n  'KS': 'Kansas',\r\n  'KY': 'Kentucky',\r\n  'LA': 'Louisiana',\r\n  'ME': 'Maine',\r\n  'MD': 'Maryland',\r\n  'MA': 'Massachusetts',\r\n  'MI': 'Michigan',\r\n  'MN': 'Minnesota',\r\n  'MS': 'Mississippi',\r\n  'MO': 'Missouri',\r\n  'MT': 'Montana',\r\n  'NE': 'Nebraska',\r\n  'NV': 'Nevada',\r\n  'NH': 'New Hampshire',\r\n  'NJ': 'New Jersey',\r\n  'NM': 'New Mexico',\r\n  'NY': 'New York',\r\n  'NC': 'North Carolina',\r\n  'ND': 'North Dakota',\r\n  'OH': 'Ohio',\r\n  'OK': 'Oklahoma',\r\n  'OR': 'Oregon',\r\n  'PA': 'Pennsylvania',\r\n  'RI': 'Rhode Island',\r\n  'SC': 'South Carolina',\r\n  'SD': 'South Dakota',\r\n  'TN': 'Tennessee',\r\n  'TX': 'Texas',\r\n  'UT': 'Utah',\r\n  'VT': 'Vermont',\r\n  'VA': 'Virginia',\r\n  'WA': 'Washington',\r\n  'WV': 'West Virginia',\r\n  'WI': 'Wisconsin',\r\n  'WY': 'Wyoming',\r\n  'DC': 'District of Columbia',\r\n  // Add potential missing territories/regions\r\n  'PR': 'Puerto Rico',\r\n  'GU': 'Guam',\r\n  'VI': 'Virgin Islands',\r\n  'AS': 'American Samoa',\r\n  'MP': 'Northern Mariana Islands',\r\n  // Canadian provinces that might be in the data\r\n  'BC': 'British Columbia',\r\n  'ON': 'Ontario',\r\n  'QC': 'Quebec',\r\n  'AB': 'Alberta',\r\n  // Add common variations or potential miscodings\r\n  'Wa': 'Washington',\r\n  'Ca': 'California',\r\n  'Tx': 'Texas',\r\n  'Fl': 'Florida',\r\n  'Ny': 'New York',\r\n  '': 'Unknown Location'\r\n};\r\n\r\nconst StateRankingChart = ({ ufoData }) => {\r\n  const svgRef = useRef();\r\n  const tooltipRef = useRef();\r\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\r\n  \r\n  // Handle window resize\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      const containerWidth = svgRef.current.parentElement.clientWidth;\r\n      setDimensions({\r\n        width: containerWidth,\r\n        height: 400, // Fixed height\r\n      });\r\n    };\r\n    \r\n    handleResize();\r\n    window.addEventListener('resize', handleResize);\r\n    \r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n  \r\n  // Draw bar chart\r\n  useEffect(() => {\r\n    if (!ufoData.length || !dimensions.width || !dimensions.height) return;\r\n    \r\n    const svg = d3.select(svgRef.current);\r\n    const tooltip = d3.select(tooltipRef.current);\r\n    \r\n    // Clear previous rendering\r\n    svg.selectAll('*').remove();\r\n    \r\n    svg\r\n      .attr('width', dimensions.width)\r\n      .attr('height', dimensions.height)\r\n      .attr('viewBox', [0, 0, dimensions.width, dimensions.height])\r\n      .attr('style', 'max-width: 100%; height: auto;');\r\n    \r\n    // Add title\r\n    svg.append('text')\r\n      .attr('x', dimensions.width / 2)\r\n      .attr('y', 20)\r\n      .attr('text-anchor', 'middle')\r\n      .style('font-size', '16px')\r\n      .style('font-weight', 'bold')\r\n      .text('Top 10 States by UFO Sightings');\r\n    \r\n    // Set margins\r\n    const margin = { top: 40, right: 30, bottom: 60, left: 120 }; // Increased left margin for longer state names\r\n    const innerWidth = dimensions.width - margin.left - margin.right;\r\n    const innerHeight = dimensions.height - margin.top - margin.bottom;\r\n    \r\n    // Group data by state\r\n    const stateCounts = d3.rollup(\r\n      ufoData,\r\n      v => v.length,\r\n      d => d.state\r\n    );\r\n    \r\n    // Log state codes to debug\r\n    console.log(\"State codes in data for ranking chart:\", Array.from(stateCounts.keys()));\r\n    \r\n    // Convert to array and sort by count descending\r\n    const stateData = Array.from(stateCounts, ([state, count]) => {\r\n      // Ensure state code is uppercase for proper mapping\r\n      const stateCode = state ? state.toUpperCase() : state;\r\n      \r\n      // Log each state code to identify the missing one\r\n      console.log(\"Processing state:\", state, \"count:\", count);\r\n      \r\n      // Add fallback for the unnamed state\r\n      let stateName = stateNameMap[stateCode];\r\n      if (!stateName) {\r\n        console.warn(\"Could not find state name for code:\", stateCode);\r\n        stateName = stateCode || \"Unknown State\";\r\n      }\r\n      \r\n      return {\r\n        state: stateCode,\r\n        stateName: stateName, \r\n        count\r\n      };\r\n    })\r\n      .sort((a, b) => b.count - a.count)\r\n      .slice(0, 10); // Get top 10\r\n    \r\n    console.log(\"Final top 10 states data:\", stateData);\r\n    \r\n    // Create scales\r\n    const xScale = d3.scaleLinear()\r\n      .domain([0, d3.max(stateData, d => d.count) * 1.1])\r\n      .range([0, innerWidth]);\r\n    \r\n    const yScale = d3.scaleBand()\r\n      .domain(stateData.map(d => d.stateName)) // Use the full state name\r\n      .range([0, innerHeight])\r\n      .padding(0.2);\r\n    \r\n    // Create main group\r\n    const g = svg.append('g')\r\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\r\n    \r\n    // Add axes\r\n    const xAxis = d3.axisBottom(xScale)\r\n      .ticks(6)\r\n      .tickFormat(d3.format(',d')); // Format numbers with commas\r\n    \r\n    g.append('g')\r\n      .attr('transform', `translate(0, ${innerHeight})`)\r\n      .call(xAxis);\r\n    \r\n    const yAxis = d3.axisLeft(yScale);\r\n    \r\n    g.append('g')\r\n      .call(yAxis);\r\n    \r\n    // Add axis labels\r\n    g.append('text')\r\n      .attr('transform', `translate(${innerWidth / 2}, ${innerHeight + 40})`)\r\n      .style('text-anchor', 'middle')\r\n      .text('Number of Sightings');\r\n    \r\n    // Add bars\r\n    g.selectAll('.bar')\r\n      .data(stateData)\r\n      .join('rect')\r\n      .attr('class', 'bar')\r\n      .attr('x', 0)\r\n      .attr('y', d => yScale(d.stateName))\r\n      .attr('width', d => xScale(d.count))\r\n      .attr('height', yScale.bandwidth())\r\n      .attr('fill', 'steelblue')\r\n      .on('mouseover', (event, d) => {\r\n        // Highlight the bar\r\n        d3.select(event.currentTarget)\r\n          .attr('fill', '#3a7ca5');\r\n        \r\n        tooltip\r\n          .style('opacity', 1)\r\n          .html(`<strong>${d.stateName}</strong>: ${d.count.toLocaleString()} sightings`)\r\n          .style('left', (event.pageX + 10) + 'px')\r\n          .style('top', (event.pageY - 28) + 'px');\r\n      })\r\n      .on('mouseout', (event) => {\r\n        // Restore original bar color\r\n        d3.select(event.currentTarget)\r\n          .attr('fill', 'steelblue');\r\n          \r\n        tooltip.style('opacity', 0);\r\n      });\r\n    \r\n    // Add value labels at the end of each bar\r\n    g.selectAll('.bar-label')\r\n      .data(stateData)\r\n      .join('text')\r\n      .attr('class', 'bar-label')\r\n      .attr('x', d => xScale(d.count) + 5)\r\n      .attr('y', d => yScale(d.stateName) + yScale.bandwidth() / 2 + 5)\r\n      .attr('font-size', '12px')\r\n      .text(d => d.count.toLocaleString());\r\n    \r\n  }, [ufoData, dimensions]);\r\n  \r\n  return (\r\n    <div className=\"state-ranking-container\">\r\n      <svg ref={svgRef}></svg>\r\n      <div className=\"tooltip\" ref={tooltipRef}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StateRankingChart;","import Papa from 'papaparse';\r\n\r\nexport const processUFOData = (csvText) => {\r\n  const results = Papa.parse(csvText, {\r\n    header: true,\r\n    skipEmptyLines: true,\r\n    dynamicTyping: true,\r\n  });\r\n  \r\n  // Process the data into the format we need\r\n  return results.data.filter(sighting => {\r\n    // Filter out entries without coordinates\r\n    return sighting.latitude && sighting.longitude;\r\n  }).map(sighting => {\r\n    // Extract year from date\r\n    const dateObj = new Date(sighting.datetime || sighting.date);\r\n    const year = dateObj.getFullYear();\r\n    \r\n    return {\r\n      ...sighting,\r\n      year,\r\n      latitude: parseFloat(sighting.latitude),\r\n      longitude: parseFloat(sighting.longitude),\r\n    };\r\n  });\r\n};\r\n\r\nexport const processMilitaryBaseData = (csvText) => {\r\n  const results = Papa.parse(csvText, {\r\n    header: true,\r\n    skipEmptyLines: true,\r\n    dynamicTyping: true,\r\n  });\r\n  \r\n  // Process the data into the format we need\r\n  return results.data.filter(base => {\r\n    // Filter out entries without coordinates\r\n    return base.latitude && base.longitude;\r\n  }).map(base => {\r\n    return {\r\n      ...base,\r\n      latitude: parseFloat(base.latitude),\r\n      longitude: parseFloat(base.longitude),\r\n    };\r\n  });\r\n};","import React, { useState, useEffect } from 'react';\nimport MapVisualization from './components/MapVisualization';\nimport TimelineChart from './components/TimelineChart';\nimport StateRankingChart from './components/StateRankingChart';\nimport { processUFOData, processMilitaryBaseData } from './utils/dataProcessing';\nimport './styles/App.css';\n\nfunction App() {\n  const [ufoData, setUfoData] = useState([]);\n  const [militaryBaseData, setMilitaryBaseData] = useState([]);\n  const [usMapData, setUsMapData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Filter states\n  const [yearRange, setYearRange] = useState([1950, 2023]);\n  const [selectedStates, setSelectedStates] = useState([]);\n  const [showMilitaryBases, setShowMilitaryBases] = useState(true);\n  \n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Load UFO sightings data\n        const ufoResponse = await fetch(`${process.env.PUBLIC_URL}/data/ufo-sightings.csv`);\n        const ufoText = await ufoResponse.text();\n        const processedUFOData = processUFOData(ufoText);\n        setUfoData(processedUFOData);\n        \n        // Load military bases data\n        const basesResponse = await fetch(`${process.env.PUBLIC_URL}/data/military-bases.csv`);\n        const basesText = await basesResponse.text();\n        const processedBaseData = processMilitaryBaseData(basesText);\n        setMilitaryBaseData(processedBaseData);\n        \n        // Load US map data\n        const mapResponse = await fetch(`${process.env.PUBLIC_URL}/data/us-states.json`);\n        const mapData = await mapResponse.json();\n        setUsMapData(mapData);\n        \n        setLoading(false);\n      } catch (err) {\n        setError('Failed to load data: ' + err.message);\n        setLoading(false);\n      }\n    };\n    \n    fetchData();\n  }, []);\n  \n  // Filter data based on selected filters\n  const filteredUFOData = ufoData.filter(sighting => {\n    const yearMatch = sighting.year >= yearRange[0] && sighting.year <= yearRange[1];\n    const stateMatch = selectedStates.length === 0 || selectedStates.includes(sighting.state);\n    return yearMatch && stateMatch;\n  });\n  \n  if (loading) return <div className=\"loading\">Loading data...</div>;\n  if (error) return <div className=\"error\">{error}</div>;\n  \n  return (\n    <div className=\"app\">\n      <header>\n        <h1>UFO Sightings & Military Bases Visualization</h1>\n        <p>Exploring the relationship between reported UFO sightings and US military installations</p>\n      </header>\n      \n      <main>\n        <section className=\"main-visualization\">\n          <MapVisualization \n            ufoData={filteredUFOData}\n            militaryBaseData={showMilitaryBases ? militaryBaseData : []}\n            usMapData={usMapData}\n          />\n        </section>\n        \n        <section className=\"supporting-charts\">\n          <div className=\"chart timeline\">\n            <TimelineChart ufoData={ufoData} yearRange={yearRange} />\n          </div>\n          \n          <div className=\"chart state-ranking\">\n            <StateRankingChart ufoData={ufoData} />\n          </div>\n        </section>\n      </main>\n      \n      <footer>\n        <p>Data sources: NUFORC UFO Sightings Database, Department of Defense Military Installations</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}