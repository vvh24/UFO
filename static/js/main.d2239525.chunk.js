(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{197:function(t,e,a){t.exports=a(211)},206:function(t,e,a){},207:function(t,e,a){},208:function(t,e,a){},209:function(t,e,a){},210:function(t,e,a){},211:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(67),o=a.n(s),i=(a(206),a(1)),l=a(4);a(207);var c=t=>{let{ufoData:e,militaryBaseData:a,usMapData:s}=t;const o=Object(n.useRef)(),c=Object(n.useRef)(),[d,u]=Object(n.useState)({width:0,height:0});return Object(n.useEffect)(()=>{const t=()=>{const t=o.current.parentElement.clientWidth;u({width:t,height:.6*t})};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),Object(n.useEffect)(()=>{if(!s||!d.width||!d.height)return;const t=i.o(o.current),n=i.o(c.current);t.selectAll("*").remove(),t.attr("width",d.width).attr("height",d.height).attr("viewBox",[0,0,d.width,d.height]).attr("style","max-width: 100%; height: auto;");const r=i.e().fitSize([d.width,d.height],l.a(s,s.objects.states)),u=i.f().projection(r);console.log("First feature properties:",l.a(s,s.objects.states).features[0]);const h=i.k(e,t=>t.length,t=>t.state);console.log("State codes in UFO data:",Array.from(h.keys())),console.log("First few UFO state values:",e.slice(0,5).map(t=>t.state));const g={};l.a(s,s.objects.states).features.forEach(t=>{t.properties&&t.properties.name&&(g[t.id]=t.properties.name)});const p={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY","District of Columbia":"DC"},m=i.n(i.g).domain([0,i.i(Array.from(h.values()))||1]);t.append("g").selectAll("path").data(l.a(s,s.objects.states).features).join("path").attr("fill",t=>{const e=t.properties.name,a=p[e],n=h.get(a)||0;return m(n)}).attr("stroke","#999").attr("stroke-width",.5).attr("d",u).attr("class","state").on("mouseover",function(t,e){const a=e.properties.name,r=p[a];let s=0;r&&h.has(r)?s=h.get(r):r&&h.has(r.toLowerCase())?s=h.get(r.toLowerCase()):a&&h.has(a)&&(s=h.get(a)),i.o(this).attr("stroke","#333").attr("stroke-width",1.5),n.style("opacity",1).html(`<strong>${a}</strong><br>${s.toLocaleString()} UFO sightings`).style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")}).on("mousemove",function(t){n.style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")}).on("mouseout",function(){i.o(this).attr("stroke","#999").attr("stroke-width",.5),n.style("opacity",0)}),t.append("g").selectAll("circle").data(e).join("circle").attr("cx",t=>{const e=r([t.longitude,t.latitude]);return e?e[0]:null}).attr("cy",t=>{const e=r([t.longitude,t.latitude]);return e?e[1]:null}).attr("r",3).attr("fill","rgba(255, 215, 0, 0.6)").attr("stroke","rgba(255, 215, 0, 0.9)").attr("stroke-width",1).attr("class","ufo-sighting").on("mouseover",function(t,e){i.o(this).attr("r",6).attr("fill","rgba(255, 215, 0, 0.9)"),n.style("opacity",1).html(`\n            <strong>UFO Sighting</strong><br>\n            Date: ${e.date||e.datetime||"Unknown"}<br>\n            Location: ${e.city||"Unknown"}, ${e.state||"Unknown"}<br>\n            Shape: ${e.shape||"Unknown"}<br>\n            Duration: ${e.duration||"N/A"}\n          `).style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")}).on("mouseout",function(){i.o(this).attr("r",3).attr("fill","rgba(255, 215, 0, 0.6)"),n.style("opacity",0)}),a.length>0&&t.append("g").selectAll("path").data(a).join("path").attr("transform",t=>{const e=r([t.longitude,t.latitude]);return e?`translate(${e[0]}, ${e[1]})`:null}).attr("d","M-5,-5 L0,-10 L5,-5 L5,5 L-5,5 Z").attr("fill","rgba(220, 20, 60, 0.7)").attr("stroke","rgba(220, 20, 60, 0.9)").attr("stroke-width",1).attr("class","military-base").on("mouseover",function(t,e){i.o(this).attr("fill","rgba(220, 20, 60, 0.9)"),n.style("opacity",1).html(`\n              <strong>Military Base</strong><br>\n              Name: ${e.name||"Unknown"}<br>\n              Type: ${e.type||"N/A"}<br>\n              Branch: ${e.branch||"N/A"}\n            `).style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")}).on("mouseout",function(){i.o(this).attr("fill","rgba(220, 20, 60, 0.7)"),n.style("opacity",0)});const f=t.append("g").attr("transform",`translate(20, ${d.height-80})`);f.append("circle").attr("cx",10).attr("cy",10).attr("r",5).attr("fill","rgba(255, 215, 0, 0.6)").attr("stroke","rgba(255, 215, 0, 0.9)").attr("stroke-width",1),f.append("text").attr("x",25).attr("y",15).text("UFO Sighting").attr("font-size","12px"),f.append("path").attr("transform","translate(10, 40)").attr("d","M-4,-4 L0,-8 L4,-4 L4,4 L-4,4 Z").attr("fill","rgba(220, 20, 60, 0.7)").attr("stroke","rgba(220, 20, 60, 0.9)").attr("stroke-width",1),f.append("text").attr("x",25).attr("y",45).text("Military Base").attr("font-size","12px")},[s,e,a,d]),r.a.createElement("div",{className:"map-container"},r.a.createElement("svg",{ref:o}),r.a.createElement("div",{className:"tooltip",ref:c}))};a(208);var d=t=>{let{ufoData:e,yearRange:a}=t;const s=Object(n.useRef)(),o=Object(n.useRef)(),[l,c]=Object(n.useState)({width:0,height:0});return Object(n.useEffect)(()=>{const t=()=>{const t=s.current.parentElement.clientWidth;c({width:t,height:300})};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),Object(n.useEffect)(()=>{if(!e.length||!l.width||!l.height)return;const t=i.o(s.current),a=i.o(o.current);t.selectAll("*").remove(),t.attr("width",l.width).attr("height",l.height).attr("viewBox",[0,0,l.width,l.height]).attr("style","max-width: 100%; height: auto;"),t.append("text").attr("x",l.width/2).attr("y",20).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").text("UFO Sightings Over Time");const n=40,r=30,c=60,d=60,u=l.width-d-r,h=l.height-n-c,g=i.k(e,t=>t.length,t=>t.year),p=Array.from(g,t=>{let[e,a]=t;return{year:e,count:a}}).sort((t,e)=>t.year-e.year),m=i.m().domain([i.j(p,t=>t.year),i.i(p,t=>t.year)]).range([0,u]),f=i.m().domain([0,1.1*i.i(p,t=>t.count)]).range([h,0]),y=t.append("g").attr("transform",`translate(${d}, ${n})`),w=i.a(m).ticks(10).tickFormat(t=>t);y.append("g").attr("transform",`translate(0, ${h})`).call(w);const b=i.b(f).ticks(10);y.append("g").call(b),y.append("text").attr("transform",`translate(${u/2}, ${h+40})`).style("text-anchor","middle").text("Year"),y.append("text").attr("transform","rotate(-90)").attr("y",-40).attr("x",-h/2).style("text-anchor","middle").text("Number of Sightings");const N=i.h().x(t=>m(t.year)).y(t=>f(t.count)).curve(i.c);y.append("path").datum(p).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",N),y.selectAll(".dot").data(p).join("circle").attr("class","dot").attr("cx",t=>m(t.year)).attr("cy",t=>f(t.count)).attr("r",4).attr("fill","steelblue").on("mouseover",(t,e)=>{a.style("opacity",1).html(`<strong>${e.year}</strong>: ${e.count} sightings`).style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")}).on("mouseout",()=>{a.style("opacity",0)})},[e,l]),r.a.createElement("div",{className:"timeline-container"},r.a.createElement("svg",{ref:s}),r.a.createElement("div",{className:"tooltip",ref:o}))};a(209);const u={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming",DC:"District of Columbia",PR:"Puerto Rico",GU:"Guam",VI:"Virgin Islands",AS:"American Samoa",MP:"Northern Mariana Islands",BC:"British Columbia",ON:"Ontario",QC:"Quebec",AB:"Alberta",Wa:"Washington",Ca:"California",Tx:"Texas",Fl:"Florida",Ny:"New York","":"Unknown Location"};var h=t=>{let{ufoData:e}=t;const a=Object(n.useRef)(),s=Object(n.useRef)(),[o,l]=Object(n.useState)({width:0,height:0});return Object(n.useEffect)(()=>{const t=()=>{const t=a.current.parentElement.clientWidth;l({width:t,height:400})};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),Object(n.useEffect)(()=>{if(!e.length||!o.width||!o.height)return;const t=i.o(a.current),n=i.o(s.current);t.selectAll("*").remove(),t.attr("width",o.width).attr("height",o.height).attr("viewBox",[0,0,o.width,o.height]).attr("style","max-width: 100%; height: auto;"),t.append("text").attr("x",o.width/2).attr("y",20).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").text("Top 10 States by UFO Sightings");const r=40,l=30,c=60,d=120,h=o.width-d-l,g=o.height-r-c,p=i.k(e,t=>t.length,t=>t.state);console.log("State codes in data for ranking chart:",Array.from(p.keys()));const m=Array.from(p,t=>{let[e,a]=t;const n=e?e.toUpperCase():e;console.log("Processing state:",e,"count:",a);let r=u[n];return r||(console.warn("Could not find state name for code:",n),r=n||"Unknown State"),{state:n,stateName:r,count:a}}).sort((t,e)=>e.count-t.count).slice(0,10);console.log("Final top 10 states data:",m);const f=i.m().domain([0,1.1*i.i(m,t=>t.count)]).range([0,h]),y=i.l().domain(m.map(t=>t.stateName)).range([0,g]).padding(.2),w=t.append("g").attr("transform",`translate(${d}, ${r})`),b=i.a(f).ticks(6).tickFormat(i.d(",d"));w.append("g").attr("transform",`translate(0, ${g})`).call(b);const N=i.b(y);w.append("g").call(N),w.append("text").attr("transform",`translate(${h/2}, ${g+40})`).style("text-anchor","middle").text("Number of Sightings"),w.selectAll(".bar").data(m).join("rect").attr("class","bar").attr("x",0).attr("y",t=>y(t.stateName)).attr("width",t=>f(t.count)).attr("height",y.bandwidth()).attr("fill","steelblue").on("mouseover",(t,e)=>{i.o(t.currentTarget).attr("fill","#3a7ca5"),n.style("opacity",1).html(`<strong>${e.stateName}</strong>: ${e.count.toLocaleString()} sightings`).style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")}).on("mouseout",t=>{i.o(t.currentTarget).attr("fill","steelblue"),n.style("opacity",0)}),w.selectAll(".bar-label").data(m).join("text").attr("class","bar-label").attr("x",t=>f(t.count)+5).attr("y",t=>y(t.stateName)+y.bandwidth()/2+5).attr("font-size","12px").text(t=>t.count.toLocaleString())},[e,o]),r.a.createElement("div",{className:"state-ranking-container"},r.a.createElement("svg",{ref:a}),r.a.createElement("div",{className:"tooltip",ref:s}))},g=a(17),p=a.n(g);const m=t=>{return p.a.parse(t,{header:!0,skipEmptyLines:!0,dynamicTyping:!0}).data.filter(t=>t.latitude&&t.longitude).map(t=>{const e=new Date(t.datetime||t.date).getFullYear();return{...t,year:e,latitude:parseFloat(t.latitude),longitude:parseFloat(t.longitude)}})},f=t=>{return p.a.parse(t,{header:!0,skipEmptyLines:!0,dynamicTyping:!0}).data.filter(t=>t.latitude&&t.longitude).map(t=>({...t,latitude:parseFloat(t.latitude),longitude:parseFloat(t.longitude)}))};a(210);var y=function(){const[t,e]=Object(n.useState)([]),[a,s]=Object(n.useState)([]),[o,i]=Object(n.useState)(null),[l,u]=Object(n.useState)(!0),[g,p]=Object(n.useState)(null),[y,w]=Object(n.useState)([1950,2023]),[b,N]=Object(n.useState)([]),[x,k]=Object(n.useState)(!0);Object(n.useEffect)(()=>{(async()=>{try{const a=await fetch("/UFO/data/ufo-sightings.csv"),n=await a.text(),r=m(n);e(r);const o=await fetch("/UFO/data/military-bases.csv"),l=await o.text(),c=f(l);s(c);const d=await fetch("/UFO/data/us-states.json"),h=await d.json();i(h),u(!1)}catch(t){p("Failed to load data: "+t.message),u(!1)}})()},[]);const O=t.filter(t=>{const e=t.year>=y[0]&&t.year<=y[1],a=0===b.length||b.includes(t.state);return e&&a});return l?r.a.createElement("div",{className:"loading"},"Loading data..."):g?r.a.createElement("div",{className:"error"},g):r.a.createElement("div",{className:"app"},r.a.createElement("header",null,r.a.createElement("h1",null,"UFO Sightings & Military Bases Visualization"),r.a.createElement("p",null,"Exploring the relationship between reported UFO sightings and US military installations")),r.a.createElement("main",null,r.a.createElement("section",{className:"main-visualization"},r.a.createElement(c,{ufoData:O,militaryBaseData:x?a:[],usMapData:o})),r.a.createElement("section",{className:"supporting-charts"},r.a.createElement("div",{className:"chart timeline"},r.a.createElement(d,{ufoData:t,yearRange:y})),r.a.createElement("div",{className:"chart state-ranking"},r.a.createElement(h,{ufoData:t})))),r.a.createElement("footer",null,r.a.createElement("p",null,"Data sources: NUFORC UFO Sightings Database, Department of Defense Military Installations")))};var w=t=>{t&&t instanceof Function&&a.e(3).then(a.bind(null,212)).then(e=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:s,getTTFB:o}=e;a(t),n(t),r(t),s(t),o(t)})};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null))),w()}},[[197,1,2]]]);
//# sourceMappingURL=main.d2239525.chunk.js.map